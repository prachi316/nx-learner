<!-- Side Navigation -->
<nav
  class="h-screen bg-surface-card flex flex-col flex-shrink-0 transition-all duration-300 ease-in-out"
  [class.w-64]="!isCollapsed"
  [class.w-16]="isCollapsed"
>
  <!-- Header Section -->
  <div class="px-4 py-3 border-b border-stone-300/60">
    <div class="flex items-center justify-between">
      <div [class.hidden]="isCollapsed">
        <app-icon theIcon="company-logo" width="44" height="44" color="white"></app-icon>
      </div>
      <button
        class="p-2 hover:bg-gray-700 rounded-lg transition-colors"
        (click)="onToggleCollapse()"
      >
        <app-icon theIcon="menu" width="20" height="20" color="black"></app-icon>
      </button>
    </div>
  </div>

  <!-- School Selection Section -->
  <div class="p-4" [class.hidden]="isCollapsed">
    <div class="text-[11px] leading-4 font-semibold text-gray-500 uppercase tracking-wider mb-3">
      Selected School
    </div>

    <!-- School Card -->
    <div class="bg-surface-page-light rounded-lg p-3 mb-3">
      <div class="flex items-center space-x-2 mb-2">
        <div class="w-4 h-4 flex items-center justify-center">
          <app-icon theIcon="campus-Icon" width="16" height="16" color="#9CA3AF"></app-icon>
        </div>
        <span class="text-sm font-medium text-gray-800">{{ schoolInfo.name }}</span>
      </div>
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-2">
          <div class="w-4 h-4 flex items-center justify-center">
            <app-icon theIcon="ranking-Icon" width="16" height="16" color="#9CA3AF"></app-icon>
          </div>
          <span class="text-sm text-gray-700">{{ schoolInfo.fullName }}</span>
        </div>
        <app-icon
          theIcon="chevron-right"
          width="16"
          height="16"
          color="#9CA3AF"
          class="w-4 h-4 text-gray-400"
        ></app-icon>
      </div>
    </div>

    <!-- Semester Card -->
    <div class="bg-surface-page-light rounded-lg p-3">
      <div class="text-xs text-gray-600 font-medium">
        {{ schoolInfo.semester }}
      </div>
    </div>
  </div>

  <!-- Navigation Links (scrollable) -->
  <div class="flex-1 min-h-0 overflow-y-auto py-4 px-4">
    <nav class="space-y-2">
      @for (item of navItems; track item.id) {
        <a
          class="group flex items-center px-3 py-3 transition-colors relative rounded-lg"
          [class.bg-yellow-200]="item.active"
          [class.text-gray-800]="item.active"
          [class.text-gray-700]="!item.active"
          [class.hover:bg-white]="!item.active"
          (click)="onNavItemClick(item)"
        >
          <!-- Icon -->
          <app-icon
            [theIcon]="item.icon"
            width="20"
            height="20"
            color="currentColor"
            class="w-5 h-5 mr-3"
            [class.fill-current]="item.active"
          ></app-icon>

          <span
            class="font-sans font-normal text-base leading-6 tracking-normal group-hover:font-extrabold"
            [class.hidden]="isCollapsed"
            [class.font-extrabold]="item.active"
            [class.text-base]="item.active"
            [class.leading-6]="item.active"
            [class.font-sans]="item.active"
          >
            {{ item.label }}
          </span>
        </a>
      }
    </nav>
  </div>

  <div class="mt-auto border-t border-stone-300/60"></div>

  <!-- Footer Section -->
  <div class="p-4" [class.hidden]="isCollapsed">
    <!-- Version Info -->
    <div class="text-xs text-gray-500 mb-2">
      {{ version }}
    </div>
    <div class="text-xs text-gray-500 mb-4">
      {{ copyright }}
    </div>

    <!-- User Profile -->
    <div class="p-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <img src="assets/Avatar.svg" alt="User avatar" class="w-8 h-8" />
          <div>
            <div class="text-sm font-medium text-gray-800">{{ userInfo.name }}</div>
            <div class="text-[11px] leading-4 text-gray-600">{{ userInfo.role }}</div>
          </div>
        </div>
        <app-icon
          theIcon="chevron-right"
          width="16"
          height="16"
          color="#6B7280"
          class="w-4 h-4 text-gray-500"
        ></app-icon>
      </div>
    </div>
  </div>
</nav>
